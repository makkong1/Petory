# Real MySQL 면접 스토리

Real MySQL 주제와 연계된 짧고 측정 가능한 스토리를 기록합니다.

## 스토리 1: N+1에서 배치 조회로 (로그인/채팅방 목록)

- 문제: 로그인 시 채팅방 목록과 참여자 조회에 과도한 쿼리 발생
- 근본 원인: N+1 쿼리 및 모든 메시지 로딩
- 해결: 채팅방별 참여자 및 최신 메시지를 배치 조회
- 결과: 쿼리 수 및 지연 시간 감소, 메모리 사용량 감소
- 학습: 배치 패턴 + 조인 전략 + 실행 계획 분석

## 스토리 2: 게시글 목록 쿼리 튜닝 (인덱스 + 프로젝션)

- 문제: 게시글 목록 정렬 + 필터에서 filesort 또는 대량 스캔 발생
- 근본 원인: 복합 인덱스 누락 및 전체 엔티티 선택
- 해결: 필터/정렬에 맞춘 복합 인덱스, DTO 프로젝션
- 결과: 검사 행 수 감소 및 부하 하에서 안정적인 지연 시간
- 학습: 인덱스 순서 + 커버링 인덱스 트레이드오프

## 스토리 3: 공간 검색 튜닝 (LocationService)

- 문제: 데이터셋이 커질수록 반경 검색 지연 시간 급증
- 근본 원인: 비최적 공간 인덱스 사용
- 해결: SPATIAL INDEX + 거리 필터 순서로 쿼리 재작성
- 결과: 검사 행 수 감소 및 인기 지역에서 더 빠른 응답
- 학습: 공간 인덱스 동작 및 함수 사용법

