# 8. í”„ë¡ íŠ¸ì—”ë“œ

## Q8-1. Reactì˜ ì£¼ìš” íŠ¹ì§•ê³¼ í”„ë¡œì íŠ¸ì—ì„œ í™œìš©í•œ ë¶€ë¶„ì€?

### ë‹µë³€ í¬ì¸íŠ¸
- ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜
- React Routerë¡œ ë¼ìš°íŒ…
- Styled-componentsë¡œ ìŠ¤íƒ€ì¼ë§
- Rechartsë¡œ ì°¨íŠ¸ ì‹œê°í™”

### ìƒì„¸ ë‹µë³€

#### 1. React 19 íŠ¹ì§•
**ë²„ì „**: React 19.2.0

**ì£¼ìš” íŠ¹ì§•**:
- ì„œë²„ ì»´í¬ë„ŒíŠ¸ ì§€ì›
- ìë™ ë°°ì¹˜ ì²˜ë¦¬
- í–¥ìƒëœ ì„±ëŠ¥

**í”„ë¡œì íŠ¸ ì‚¬ìš©**:
- ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ê°œë°œ
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ + Hooks

#### 2. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
**ìœ„ì¹˜**: `frontend/src/components/`

**êµ¬ì¡°**:
```
components/
  â”œâ”€â”€ Auth/          # ì¸ì¦ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
  â”œâ”€â”€ Board/         # ê²Œì‹œíŒ ì»´í¬ë„ŒíŠ¸
  â”œâ”€â”€ Chat/          # ì±„íŒ… ì»´í¬ë„ŒíŠ¸
  â”œâ”€â”€ Location/      # ìœ„ì¹˜ ì„œë¹„ìŠ¤ ì»´í¬ë„ŒíŠ¸
  â””â”€â”€ ...
```

**ì˜ˆì‹œ**:
```jsx
// frontend/src/components/Board/BoardList.js
function BoardList({ boards }) {
    return (
        <div>
            {boards.map(board => (
                <BoardItem key={board.idx} board={board} />
            ))}
        </div>
    );
}
```

#### 3. React Router
**ìœ„ì¹˜**: `frontend/src/App.js`

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/App.js
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
    return (
        <BrowserRouter>
            <Routes>
                <Route path="/" element={<HomePage />} />
                <Route path="/board" element={<CommunityBoard />} />
                <Route path="/chat" element={<ChatWidget />} />
            </Routes>
        </BrowserRouter>
    );
}
```

#### 4. Styled-components
**ìœ„ì¹˜**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ íŒŒì¼

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/components/Board/BoardItem.js
import styled from 'styled-components';

const BoardItemContainer = styled.div`
    padding: 16px;
    border-bottom: 1px solid #e0e0e0;
    
    &:hover {
        background-color: #f5f5f5;
    }
`;

function BoardItem({ board }) {
    return (
        <BoardItemContainer>
            <h3>{board.title}</h3>
            <p>{board.content}</p>
        </BoardItemContainer>
    );
}
```

#### 5. Recharts
**ìœ„ì¹˜**: `frontend/src/components/Statistics/StatisticsChart.js`

**ìš©ë„**: í†µê³„ ë°ì´í„° ì‹œê°í™”

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';

function StatisticsChart({ data }) {
    return (
        <LineChart width={600} height={300} data={data}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="date" />
            <YAxis />
            <Tooltip />
            <Legend />
            <Line type="monotone" dataKey="users" stroke="#8884d8" />
        </LineChart>
    );
}
```

---

## Q8-2. ìƒíƒœ ê´€ë¦¬ ë°©ì‹ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.

### ë‹µë³€ í¬ì¸íŠ¸
- Context API ë˜ëŠ” ë¡œì»¬ ìƒíƒœ ê´€ë¦¬
- JWT í† í°ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
- Axiosë¡œ API í˜¸ì¶œ

### ìƒì„¸ ë‹µë³€

#### 1. Context API
**ìœ„ì¹˜**: `frontend/src/contexts/AuthContext.js`

**ì „ì²´ íë¦„**:
```
AuthContext ìƒì„±
  â†“
AuthProviderë¡œ ì•± ì „ì²´ ê°ì‹¸ê¸°
  â†“
useAuth Hookìœ¼ë¡œ ìƒíƒœ ì ‘ê·¼
```

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/contexts/AuthContext.js
import { createContext, useContext, useState, useEffect } from 'react';

const AuthContext = createContext();

export function AuthProvider({ children }) {
    const [user, setUser] = useState(null);
    const [isAuthenticated, setIsAuthenticated] = useState(false);
    
    useEffect(() => {
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ í† í° í™•ì¸
        const token = localStorage.getItem('accessToken');
        if (token) {
            // í† í° ê²€ì¦ ë° ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
            fetchUserInfo(token);
        }
    }, []);
    
    return (
        <AuthContext.Provider value={{ user, isAuthenticated, setUser }}>
            {children}
        </AuthContext.Provider>
    );
}

export function useAuth() {
    return useContext(AuthContext);
}
```

#### 2. ë¡œì»¬ ìŠ¤í† ë¦¬ì§€
**ìœ„ì¹˜**: `frontend/src/api/authApi.js`

**ìš©ë„**: JWT í† í° ì €ì¥

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/api/authApi.js
export function login(username, password) {
    return axios.post('/api/auth/login', { username, password })
        .then(response => {
            const { accessToken, refreshToken } = response.data;
            
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            localStorage.setItem('accessToken', accessToken);
            localStorage.setItem('refreshToken', refreshToken);
            
            return response.data;
        });
}
```

#### 3. Axios ì¸í„°ì…‰í„°
**ìœ„ì¹˜**: `frontend/src/api/authApi.js`

**ì „ì²´ íë¦„**:
```
API ìš”ì²­
  â†“
Axios ì¸í„°ì…‰í„°ê°€ í† í° ìë™ ì¶”ê°€
  â†“
ìš”ì²­ ì „ì†¡
  â†“
401 ì‘ë‹µ ì‹œ í† í° ê°±ì‹  ì‹œë„
```

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/api/authApi.js
axios.interceptors.request.use(
    (config) => {
        const token = localStorage.getItem('accessToken');
        if (token) {
            config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
    },
    (error) => {
        return Promise.reject(error);
    }
);

axios.interceptors.response.use(
    (response) => response,
    async (error) => {
        if (error.response?.status === 401) {
            // í† í° ê°±ì‹  ì‹œë„
            const refreshToken = localStorage.getItem('refreshToken');
            if (refreshToken) {
                try {
                    const response = await axios.post('/api/auth/refresh', { refreshToken });
                    const { accessToken } = response.data;
                    localStorage.setItem('accessToken', accessToken);
                    // ì›ë˜ ìš”ì²­ ì¬ì‹œë„
                    return axios.request(error.config);
                } catch (e) {
                    // ê°±ì‹  ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì•„ì›ƒ
                    localStorage.removeItem('accessToken');
                    localStorage.removeItem('refreshToken');
                    window.location.href = '/login';
                }
            }
        }
        return Promise.reject(error);
    }
);
```

---

## Q8-3. ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‚˜ìš”?

### ë‹µë³€ í¬ì¸íŠ¸
- useMemo, useCallbackìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜
- ì§€ì—° ë¡œë”©(Lazy Loading)
- ìœ„ì¹˜ ê¸°ë°˜ ì´ˆê¸° ë¡œë“œë¡œ ë°ì´í„° ì–‘ ê°ì†Œ

### ìƒì„¸ ë‹µë³€

#### 1. ë©”ëª¨ì´ì œì´ì…˜
**ìœ„ì¹˜**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ íŒŒì¼

**useMemo ì˜ˆì‹œ**:
```jsx
// frontend/src/components/Board/BoardList.js
import { useMemo } from 'react';

function BoardList({ boards, category }) {
    const filteredBoards = useMemo(() => {
        if (!category) return boards;
        return boards.filter(board => board.category === category);
    }, [boards, category]);
    
    return (
        <div>
            {filteredBoards.map(board => (
                <BoardItem key={board.idx} board={board} />
            ))}
        </div>
    );
}
```

**useCallback ì˜ˆì‹œ**:
```jsx
// frontend/src/components/Board/BoardItem.js
import { useCallback } from 'react';

function BoardItem({ board, onLike }) {
    const handleLike = useCallback(() => {
        onLike(board.idx);
    }, [board.idx, onLike]);
    
    return (
        <div>
            <button onClick={handleLike}>ì¢‹ì•„ìš”</button>
        </div>
    );
}
```

#### 2. ì§€ì—° ë¡œë”© (Lazy Loading)
**ìœ„ì¹˜**: `frontend/src/App.js`

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/App.js
import { lazy, Suspense } from 'react';

const AdminPanel = lazy(() => import('./components/Admin/AdminPanel'));
const ChatWidget = lazy(() => import('./components/Chat/ChatWidget'));

function App() {
    return (
        <Suspense fallback={<div>Loading...</div>}>
            <Routes>
                <Route path="/admin" element={<AdminPanel />} />
                <Route path="/chat" element={<ChatWidget />} />
            </Routes>
        </Suspense>
    );
}
```

#### 3. react-window
**ìœ„ì¹˜**: `frontend/src/components/Board/BoardList.js`

**ìš©ë„**: ê°€ìƒí™”ë¡œ ëŒ€ëŸ‰ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ ìµœì í™”

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/components/Board/BoardList.js
import { FixedSizeList } from 'react-window';

function BoardList({ boards }) {
    const Row = ({ index, style }) => (
        <div style={style}>
            <BoardItem board={boards[index]} />
        </div>
    );
    
    return (
        <FixedSizeList
            height={600}
            itemCount={boards.length}
            itemSize={100}
            width="100%"
        >
            {Row}
        </FixedSizeList>
    );
}
```

#### 4. ìœ„ì¹˜ ê¸°ë°˜ ì´ˆê¸° ë¡œë“œ
**ìœ„ì¹˜**: `frontend/src/components/LocationService/LocationServiceMap.js`

**ì „ì²´ íë¦„**:
```
ì‚¬ìš©ì ìœ„ì¹˜ ì •ë³´ ìˆ˜ì‹ 
  â†“
10km ë°˜ê²½ ê²€ìƒ‰ ìš”ì²­
  â†“
ë°ì´í„° ì–‘ ê°ì†Œ (95.5% ê°ì†Œ)
  â†“
ë Œë”ë§ ì„±ëŠ¥ í–¥ìƒ
```

**ì½”ë“œ ì˜ˆì‹œ**:
```jsx
// frontend/src/components/LocationService/LocationServiceMap.js
useEffect(() => {
    if (userLocation) {
        // ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ì¤€ 10km ë°˜ê²½ ê²€ìƒ‰
        fetchLocationServices({
            latitude: userLocation.lat,
            longitude: userLocation.lng,
            radius: 10000 // 10km
        });
    }
}, [userLocation]);
```

---

## ğŸ“ í•µì‹¬ ì •ë¦¬

### React íŠ¹ì§•
- **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
- **React Router**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…
- **Styled-components**: CSS-in-JS ìŠ¤íƒ€ì¼ë§
- **Recharts**: ë°ì´í„° ì‹œê°í™”

### ìƒíƒœ ê´€ë¦¬
- **Context API**: ì „ì—­ ìƒíƒœ ê´€ë¦¬
- **ë¡œì»¬ ìŠ¤í† ë¦¬ì§€**: í† í° ì €ì¥
- **Axios ì¸í„°ì…‰í„°**: ìë™ í† í° ì¶”ê°€ ë° ê°±ì‹ 

### ì„±ëŠ¥ ìµœì í™”
- **ë©”ëª¨ì´ì œì´ì…˜**: useMemo, useCallback
- **ì§€ì—° ë¡œë”©**: Lazy Loading
- **ê°€ìƒí™”**: react-window
- **ìœ„ì¹˜ ê¸°ë°˜ ë¡œë“œ**: ë°ì´í„° ì–‘ ê°ì†Œ
